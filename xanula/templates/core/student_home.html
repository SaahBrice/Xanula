{% extends 'base.html' %}

{% block title %}Xanula - Student Home{% endblock %}

{% block content %}
<div class="container mx-auto px-4">
    <h1 class="text-3xl font-bold mb-6">Welcome, {{ user.username }}!</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for subject in subjects %}
        <div class="bg-white shadow-md rounded-lg p-6">
            <h2 class="text-xl font-semibold mb-4">{{ subject.name }}</h2>
            <ul class="space-y-2">
                {% for workbook in subject.workbook_set.all|slice:":3" %}
                <li><a href="{% url 'core:workbook_detail' workbook.id %}" class="text-blue-600 hover:underline">{{ workbook.title }}</a></li>
                {% endfor %}
            </ul>
            {% if subject.workbook_set.count > 3 %}
            <a href="{% url 'core:workbook_list' subject.id %}" class="mt-4 inline-block text-sm text-blue-600 hover:underline">See all workbooks</a>
            {% endif %}
        </div>
        {% empty %}
        <p>No subjects available.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
{% extends 'base.html' %}

{% block content %}
<div class="container mx-auto px-4" x-data="{ unreadCount: {{ unread_notifications_count }} }">
    <h1 class="text-3xl font-bold mb-6">Notifications</h1>
    <div class="bg-white shadow-md rounded my-6">
        <ul class="divide-y divide-gray-200">
            {% for notification in notifications %}
            <li class="p-4 hover:bg-gray-50">
                <p class="text-sm font-medium text-gray-900">{{ notification.message }}</p>
                <p class="text-sm text-gray-500">{{ notification.created_at|date:"F j, Y, g:i a" }}</p>
            </li>
            {% empty %}
            <li class="p-4">
                <p class="text-sm text-gray-500">No notifications.</p>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>
<script>
    document.addEventListener('alpine:init', () => {
        Alpine.store('notifications', {
            unreadCount: {{ unread_notifications_count }},
            decrementCount() {
                if (this.unreadCount > 0) {
                    this.unreadCount--;
                }
            }
        })
    })
</script>
{% endblock %} 